text
<div align="center">

# üçΩÔ∏è Prato M√°gico

### Sistema de Gest√£o de Pedidos para Restaurantes

[![Node.js](https://img.shields.io/badge/Node.js-20.x-green?logo=node.js)](https://nodejs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue?logo=typescript)](https://www.typescriptlang.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-blue?logo=postgresql)](https://www.postgresql.org/)
[![Docker](https://img.shields.io/badge/Docker-Ready-blue?logo=docker)](https://www.docker.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

</div>

---

## üìñ Sobre o Projeto

O **Prato M√°gico** √© uma solu√ß√£o completa para automatizar e otimizar o gerenciamento de pedidos em restaurantes[web:7]. Desenvolvido com arquitetura limpa e princ√≠pios SOLID, o sistema permite o cadastro de pratos no menu, cria√ß√£o de pedidos e acompanhamento do status em tempo real atrav√©s de uma interface web responsiva[web:5][web:10].

### üéØ Prop√≥sito

Resolver os principais desafios enfrentados por restaurantes na gest√£o manual de pedidos: erros de comunica√ß√£o, atrasos na entrega e dificuldade no controle financeiro[web:2]. A solu√ß√£o centraliza informa√ß√µes e automatiza processos cr√≠ticos como c√°lculo de valores e rastreamento de status[web:7].

### ‚ú® Principais Funcionalidades

- ‚úÖ **CRUD Completo de Pratos** - Cadastro, edi√ß√£o, listagem e exclus√£o soft delete
- ‚úÖ **Gerenciamento de Pedidos** - Cria√ß√£o e acompanhamento com status em tempo real
- ‚úÖ **Relacionamento N:N** - M√∫ltiplos pratos por pedido com controle de quantidade
- ‚úÖ **Categoriza√ß√£o Inteligente** - Bebidas, pratos principais, sobremesas e entradas
- ‚úÖ **C√°lculo Autom√°tico** - Valor total computado dinamicamente
- ‚úÖ **Controle de Status** - Fluxo validado: RECEBIDO ‚Üí EM_PREPARO ‚Üí PRONTO ‚Üí ENTREGUE
- ‚úÖ **Auditoria Completa** - Timestamps autom√°ticos e hist√≥rico de mudan√ßas

---

## üèóÔ∏è Arquitetura

O projeto segue os princ√≠pios de **Clean Architecture** com separa√ß√£o clara de responsabilidades[web:2][web:9]:

src/
‚îú‚îÄ‚îÄ presentation/ # Controllers (recebem requisi√ß√µes HTTP)
‚îú‚îÄ‚îÄ application/ # Use Cases e Services (regras de neg√≥cio)
‚îú‚îÄ‚îÄ domain/ # Entidades e Value Objects (l√≥gica de dom√≠nio)
‚îî‚îÄ‚îÄ infrastructure/ # Reposit√≥rios, DB e adaptadores externos

text

### üé® Princ√≠pios SOLID Aplicados

| Princ√≠pio | Aplica√ß√£o |
|-----------|-----------|
| **SRP** | Cada service tem uma √∫nica responsabilidade (DishService, OrderService, OrderStatusService) |
| **OCP** | Estrat√©gias extens√≠veis para c√°lculo de pre√ßos (descontos, taxas) sem modificar c√≥digo existente |
| **LSP** | Todos os reposit√≥rios implementam interface base sem quebrar contratos |
| **ISP** | Interfaces segregadas (IDishReader, IDishWriter) ao inv√©s de uma √∫nica interface |
| **DIP** | Controllers dependem de abstra√ß√µes (interfaces), n√£o de classes concretas |

---

## üöÄ Tecnologias

### Backend
- **[Node.js](https://nodejs.org/)** v20+ - Runtime JavaScript
- **[TypeScript](https://www.typescriptlang.org/)** v5+ - Superset com tipagem est√°tica
- **[Express.js](https://expressjs.com/)** - Framework web minimalista
- **[TypeORM](https://typeorm.io/)** - ORM com suporte a Active Record e Data Mapper
- **[PostgreSQL](https://www.postgresql.org/)** v15 - Banco de dados relacional
- **[Docker](https://www.docker.com/)** + **[Docker Compose](https://docs.docker.com/compose/)** - Containeriza√ß√£o e orquestra√ß√£o

### Frontend
- **[React](https://react.dev/)** v18+ com TypeScript
- **[React Router](https://reactrouter.com/)** v6 - Roteamento
- **[React Query](https://tanstack.com/query)** - Gerenciamento de estado de servidor
- **[React Hook Form](https://react-hook-form.com/)** + **[Zod](https://zod.dev/)** - Valida√ß√£o de formul√°rios
- **[TailwindCSS](https://tailwindcss.com/)** - Estiliza√ß√£o com utility-first

### Ferramentas de Desenvolvimento
- **[Jest](https://jestjs.io/)** + **[Supertest](https://github.com/ladjs/supertest)** - Testes unit√°rios e de integra√ß√£o
- **[Swagger UI](https://swagger.io/tools/swagger-ui/)** - Documenta√ß√£o interativa da API
- **[pgAdmin](https://www.pgadmin.org/)** - Interface gr√°fica para PostgreSQL
- **[ESLint](https://eslint.org/)** + **[Prettier](https://prettier.io/)** - Linting e formata√ß√£o de c√≥digo

---

## üìã Pr√©-requisitos

Antes de come√ßar, certifique-se de ter instalado[web:7][web:10]:

- **[Git](https://git-scm.com/)** v2.30+
- **[Node.js](https://nodejs.org/)** v18+ e npm/yarn
- **[Docker](https://www.docker.com/)** v20+
- **[Docker Compose](https://docs.docker.com/compose/)** v2+

---

## ‚öôÔ∏è Instala√ß√£o e Configura√ß√£o

### 1Ô∏è‚É£ Clonar o Reposit√≥rio

Clone o projeto
git clone https://github.com/seu-usuario/prato-magico.git

Entre no diret√≥rio
cd prato-magico

text

### 2Ô∏è‚É£ Configurar Vari√°veis de Ambiente

Crie um arquivo `.env` na raiz do projeto baseado no `.env.example`:

Backend
NODE_ENV=development
PORT=3000

Database
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_DATABASE=prato_magico

pgAdmin (opcional)
PGADMIN_EMAIL=admin@admin.com
PGADMIN_PASSWORD=admin

text

### 3Ô∏è‚É£ Instalar Depend√™ncias

Backend
npm install

Frontend (se estiver em monorepo)
cd frontend
npm install

text

### 4Ô∏è‚É£ Subir o Banco de Dados com Docker

Inicia PostgreSQL e pgAdmin em containers
docker-compose up -d

Verificar se os containers est√£o rodando
docker ps

text

**Acessar pgAdmin:**
- URL: `http://localhost:5050`
- Email: `admin@admin.com`
- Senha: `admin`

### 5Ô∏è‚É£ Executar Migrations

Cria as tabelas no banco de dados
npm run migration:run

text

### 6Ô∏è‚É£ Iniciar o Servidor

Ambiente de desenvolvimento
npm run dev

Ambiente de produ√ß√£o
npm run build
npm start

text

O servidor estar√° dispon√≠vel em `http://localhost:3000`[web:10].

### 7Ô∏è‚É£ Acessar Documenta√ß√£o da API

Ap√≥s iniciar o servidor, acesse:
- **Swagger UI**: `http://localhost:3000/api-docs`

---

## üîó Endpoints da API

### Pratos (Dishes)

| M√©todo | Endpoint | Descri√ß√£o |
|--------|----------|-----------|
| `POST` | `/api/v1/dishes` | Criar novo prato |
| `GET` | `/api/v1/dishes` | Listar pratos (paginado) |
| `GET` | `/api/v1/dishes/:id` | Obter detalhes de um prato |
| `PUT` | `/api/v1/dishes/:id` | Atualizar prato existente |
| `DELETE` | `/api/v1/dishes/:id` | Excluir prato (soft delete) |

### Pedidos (Orders)

| M√©todo | Endpoint | Descri√ß√£o |
|--------|----------|-----------|
| `POST` | `/api/v1/orders` | Criar novo pedido |
| `GET` | `/api/v1/orders` | Listar pedidos (paginado) |
| `GET` | `/api/v1/orders/:id` | Obter detalhes de um pedido |
| `PATCH` | `/api/v1/orders/:id/status` | Atualizar status do pedido |

**Exemplo de Requisi√ß√£o:**

Criar um novo prato
curl -X POST http://localhost:3000/api/v1/dishes
-H "Content-Type: application/json"
-d '{
"name": "Feijoada Completa",
"description": "Feijoada tradicional com acompanhamentos",
"price": 45.90,
"category": "prato principal"
}'

text

---

## üê≥ Docker e PostgreSQL

### Estrutura do docker-compose.yml

version: '3.8'

services:
postgres:
image: postgres:15-alpine
container_name: prato_magico_db
restart: always
environment:
POSTGRES_USER: ${DB_USERNAME}
POSTGRES_PASSWORD: ${DB_PASSWORD}
POSTGRES_DB: ${DB_DATABASE}
ports:
- "${DB_PORT}:5432"
volumes:
- postgres_data:/var/lib/postgresql/data

pgadmin:
image: dpage/pgadmin4:latest
container_name: prato_magico_pgadmin
restart: always
environment:
PGADMIN_DEFAULT_EMAIL: ${PGADMIN_EMAIL}
PGADMIN_DEFAULT_PASSWORD: ${PGADMIN_PASSWORD}
ports:
- "5050:80"
depends_on:
- postgres

volumes:
postgres_data:

text

### Comandos √öteis do Docker

Subir todos os servi√ßos
docker-compose up -d

Ver logs dos containers
docker-compose logs -f

Parar todos os servi√ßos
docker-compose down

Parar e remover volumes (apaga dados do banco)
docker-compose down -v

Reconstruir imagens
docker-compose build --no-cache

Acessar o terminal do PostgreSQL
docker exec -it prato_magico_db psql -U postgres -d prato_magico

text

### Conectar ao PostgreSQL no pgAdmin

1. Acesse `http://localhost:5050`
2. Fa√ßa login com as credenciais configuradas
3. Clique em **Add New Server**
4. Configure:
   - **Name**: Prato M√°gico DB
   - **Host**: postgres (nome do servi√ßo no Docker)
   - **Port**: 5432
   - **Username**: postgres
   - **Password**: postgres

---

## üåø Git Flow

Este projeto segue o modelo de **Git Flow** para organiza√ß√£o de branches e versionamento[web:1][web:2].

### Estrutura de Branches

| Branch | Descri√ß√£o | Exemplo |
|--------|-----------|---------|
| `main` | C√≥digo em produ√ß√£o (sempre est√°vel) | - |
| `develop` | Branch de desenvolvimento (integra√ß√£o) | - |
| `feature/*` | Novas funcionalidades | `feature/add-dish-filter` |
| `bugfix/*` | Corre√ß√µes de bugs em desenvolvimento | `bugfix/fix-order-calculation` |
| `hotfix/*` | Corre√ß√µes urgentes em produ√ß√£o | `hotfix/fix-critical-crash` |
| `release/*` | Prepara√ß√£o para nova vers√£o | `release/v1.2.0` |

### Fluxo de Trabalho

#### 1. Criar Nova Feature

Atualizar develop
git checkout develop
git pull origin develop

Criar branch de feature
git checkout -b feature/nome-da-feature

Fazer commits
git add .
git commit -m "feat: adiciona filtro de pratos por categoria"

Push para o reposit√≥rio
git push origin feature/nome-da-feature

text

#### 2. Finalizar Feature

Voltar para develop
git checkout develop

Merge da feature (usando --no-ff para preservar hist√≥rico)
git merge --no-ff feature/nome-da-feature

Push para origin
git push origin develop

Deletar branch local
git branch -d feature/nome-da-feature

Deletar branch remota
git push origin --delete feature/nome-da-feature

text

#### 3. Criar Release

Criar branch de release a partir de develop
git checkout -b release/v1.2.0 develop

Fazer ajustes finais (atualizar vers√£o, changelog, etc)
git commit -m "chore: bump version to 1.2.0"

Merge na main
git checkout main
git merge --no-ff release/v1.2.0

Criar tag
git tag -a v1.2.0 -m "Release version 1.2.0"

Merge de volta em develop
git checkout develop
git merge --no-ff release/v1.2.0

Push
git push origin main develop --tags
git branch -d release/v1.2.0

text

#### 4. Hotfix em Produ√ß√£o

Criar hotfix a partir de main
git checkout -b hotfix/fix-critical-bug main

Corrigir o problema
git commit -m "fix: corrige c√°lculo de pre√ßo total"

Merge na main
git checkout main
git merge --no-ff hotfix/fix-critical-bug
git tag -a v1.2.1 -m "Hotfix 1.2.1"

Merge de volta em develop
git checkout develop
git merge --no-ff hotfix/fix-critical-bug

Push
git push origin main develop --tags
git branch -d hotfix/fix-critical-bug

text

### Conven√ß√£o de Commits

Seguimos o padr√£o **[Conventional Commits](https://www.conventionalcommits.org/)**[web:2]:

<tipo>(<escopo>): <descri√ß√£o>

[corpo opcional]

[rodap√© opcional]

text

**Tipos principais:**
- `feat`: Nova funcionalidade
- `fix`: Corre√ß√£o de bug
- `docs`: Mudan√ßas na documenta√ß√£o
- `style`: Formata√ß√£o de c√≥digo (sem mudan√ßa l√≥gica)
- `refactor`: Refatora√ß√£o de c√≥digo
- `test`: Adi√ß√£o ou corre√ß√£o de testes
- `chore`: Tarefas de build, configura√ß√£o, etc

**Exemplos:**

git commit -m "feat(orders): adiciona endpoint de listagem de pedidos"
git commit -m "fix(dishes): corrige valida√ß√£o de pre√ßo negativo"
git commit -m "docs(readme): atualiza instru√ß√µes de instala√ß√£o"
git commit -m "refactor(services): aplica princ√≠pio DIP em OrderService"

text

---

## üóÑÔ∏è Modelagem do Banco de Dados

### Diagrama ER

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Dishes ‚îÇ ‚îÇ Orders_Dishes ‚îÇ ‚îÇ Orders ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id (PK) ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ<‚îÇ dish_id (FK) ‚îÇ>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ id (PK) ‚îÇ
‚îÇ name ‚îÇ ‚îÇ order_id (FK) ‚îÇ ‚îÇ status ‚îÇ
‚îÇ description ‚îÇ ‚îÇ quantity ‚îÇ ‚îÇ total_price ‚îÇ
‚îÇ price ‚îÇ ‚îÇ unit_price ‚îÇ ‚îÇ created_at ‚îÇ
‚îÇ category ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ updated_at ‚îÇ
‚îÇ is_active ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ created_at ‚îÇ
‚îÇ updated_at ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

text

### Tabelas

#### `dishes`

| Campo | Tipo | Restri√ß√µes | Descri√ß√£o |
|-------|------|-----------|-----------|
| `id` | UUID | PK | Identificador √∫nico |
| `name` | VARCHAR(100) | NOT NULL | Nome do prato |
| `description` | VARCHAR(500) | NULL | Descri√ß√£o detalhada |
| `price` | DECIMAL(10,2) | NOT NULL, > 0 | Pre√ßo unit√°rio |
| `category` | ENUM | NOT NULL | bebida, prato principal, sobremesa, entrada |
| `is_active` | BOOLEAN | DEFAULT true | Status de ativa√ß√£o |
| `created_at` | TIMESTAMP | NOT NULL | Data de cria√ß√£o |
| `updated_at` | TIMESTAMP | NOT NULL | Data de atualiza√ß√£o |

#### `orders`

| Campo | Tipo | Restri√ß√µes | Descri√ß√£o |
|-------|------|-----------|-----------|
| `id` | UUID | PK | Identificador √∫nico |
| `status` | ENUM | NOT NULL | RECEBIDO, EM_PREPARO, PRONTO, ENTREGUE |
| `total_price` | DECIMAL(10,2) | NOT NULL | Valor total do pedido |
| `created_at` | TIMESTAMP | NOT NULL | Data de cria√ß√£o |
| `updated_at` | TIMESTAMP | NOT NULL | Data de atualiza√ß√£o |

#### `orders_dishes` (Tabela de Jun√ß√£o)

| Campo | Tipo | Restri√ß√µes | Descri√ß√£o |
|-------|------|-----------|-----------|
| `dish_id` | UUID | FK, PK | Refer√™ncia ao prato |
| `order_id` | UUID | FK, PK | Refer√™ncia ao pedido |
| `quantity` | INTEGER | NOT NULL, > 0 | Quantidade do prato |
| `unit_price` | DECIMAL(10,2) | NOT NULL | Pre√ßo unit√°rio no momento do pedido |

---

## üß™ Testes

Rodar todos os testes
npm test

Testes com coverage
npm run test:coverage

Testes em modo watch
npm run test:watch

Testes de integra√ß√£o
npm run test:integration

text

### Estrutura de Testes

tests/
‚îú‚îÄ‚îÄ unit/ # Testes unit√°rios de services e entidades
‚îú‚îÄ‚îÄ integration/ # Testes de API end-to-end
‚îî‚îÄ‚îÄ mocks/ # Mocks e fixtures

text

---

## üé® Identidade Visual

### Paleta de Cores

| Cor | Hex | Uso |
|-----|-----|-----|
| Prim√°ria | `#FF6B35` | CTAs, destaques |
| Secund√°ria | `#004E89` | Navega√ß√£o, headers |
| Sucesso | `#06D6A0` | Confirma√ß√µes |
| Erro | `#EF476F` | Alertas, valida√ß√µes |
| Neutro Escuro | `#2B2D42` | Textos principais |
| Neutro Claro | `#F7F7F7` | Backgrounds |

### Tipografia

- **Primary**: Inter (t√≠tulos e interface)
- **Secondary**: Roboto (corpo de texto)

---

## üì¶ Deploy

### Backend (Node.js)

Build da aplica√ß√£o
npm run build

Iniciar em produ√ß√£o
NODE_ENV=production npm start

text

### Frontend (React)

Build otimizado
npm run build

Arquivos gerados em /dist ou /build
text

**Plataformas recomendadas:**
- Backend: Railway, Render, Fly.io, AWS
- Frontend: Vercel, Netlify, Cloudflare Pages
- Database: Neon, Supabase, Railway

---


## üìÑ Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes[web:7].

---

## üìö Recursos Adicionais

- [Documenta√ß√£o do TypeORM](https://typeorm.io/)
- [Guia do Express.js](https://expressjs.com/)
- [React Documentation](https://react.dev/)
- [Docker Documentation](https://docs.docker.com/)
- [Git Flow Cheatsheet](https://danielkummer.github.io/git-flow-cheatsheet/)

---

<div align="center">

**[‚¨Ü Voltar ao topo](#-prato-m√°gico)**

</div>
